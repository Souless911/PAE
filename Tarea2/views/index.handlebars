<div>

  <form action="">
    <label for="GET-name">Busqueda en News:</label>
    <input id="GET-name" type="text" name="name">
    <input type="submit" value="Enviar">
  </form>

</div>
<main class="grid-12">
  {{#each articles}}
  <div class="card">
    <h3>{{title}}</h3>
    <img src="{{urlToImage}}" alt="¿?">
    <button onclick="setModal('{{@index}}')" id="myBtn{{@index}}">Open Modal</button>
  </div>
  {{/each}}
  <br>
</main>
{{#each articles}}
    <div id="myModal{{@index}}" class="modal">

        <div class="modal-content">
            <span class="close">&times;</span>
            <h3>{{title}}</h3>
            <img src="{{urlToImage}}" alt="¿?">
            <p>{{content}}</p>
        </div>

    </div>
{{/each}}

<script>
  setModal = (id) => {
    sessionStorage.setItem('id', id);
    var modal = document.getElementById("myModal" + id);
    var btn = document.getElementById("myBtn" + id);
    btn.onclick = function () {
      modal.style.display = "block";
    }
    var span = document.getElementsByClassName("close")[0];

    span.onclick = function () {
      modal.style.display = "none";
    }

    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
  }

  let ids = sessionStorage.getItem('id');
  var modal = document.getElementById("myModal" + ids);

  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>
